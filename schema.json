{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "integer": {
            "type": "number"
        },
        "Player": {
            "title": "Player",
            "type": "object",
            "properties": {
                "connected": {
                    "type": "boolean",
                    "title": "connected"
                },
                "name": {
                    "type": "string",
                    "title": "name"
                },
                "score": {
                    "type": "integer",
                    "title": "score"
                },
                "win_count": {
                    "type": "integer",
                    "title": "win_count"
                },
                "user_id": {
                    "type": "string",
                    "title": "user_id"
                },
                "crowned": {
                    "type": "boolean",
                    "title": "crowned"
                },
                "skip_count": {
                    "type": "integer",
                    "title": "skip_count"
                }
            },
            "additionalProperties": false,
            "required": [
                "connected",
                "score",
                "skip_count",
                "win_count"
            ]
        },
        "UserId": {
            "title": "UserId",
            "anyOf": [
                {
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "string",
                            "enum": [
                                "User"
                            ],
                            "title": "type"
                        },
                        "id": {
                            "type": "string",
                            "title": "id"
                        }
                    },
                    "additionalProperties": false,
                    "required": [
                        "id",
                        "type"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "string",
                            "enum": [
                                "Anonymous"
                            ],
                            "title": "type"
                        },
                        "id": {
                            "type": "string",
                            "title": "id"
                        }
                    },
                    "additionalProperties": false,
                    "required": [
                        "id",
                        "type"
                    ]
                }
            ]
        },
        "AchievementProgress": {
            "title": "AchievementProgress",
            "type": "object",
            "properties": {
                "achievement_id": {
                    "type": "string",
                    "title": "achievement_id"
                },
                "user_id": {
                    "$ref": "#/definitions/UserId",
                    "title": "user_id"
                },
                "user_index": {
                    "type": "integer",
                    "title": "user_index"
                },
                "progress": {
                    "type": "integer",
                    "title": "progress"
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "achievement_progress"
                    ],
                    "title": "type"
                }
            },
            "additionalProperties": false,
            "required": [
                "achievement_id",
                "progress",
                "type",
                "user_id",
                "user_index"
            ]
        },
        "AchievementUnlock": {
            "title": "AchievementUnlock",
            "type": "object",
            "properties": {
                "id": {
                    "type": "string",
                    "title": "id"
                },
                "image_url": {
                    "type": [
                        "null",
                        "string"
                    ],
                    "title": "image_url"
                },
                "name": {
                    "type": "string",
                    "title": "name"
                },
                "description": {
                    "type": "string",
                    "title": "description"
                },
                "user_index": {
                    "type": "integer",
                    "title": "user_index"
                },
                "max_progress": {
                    "type": "integer",
                    "title": "max_progress"
                },
                "user_id": {
                    "type": "string",
                    "title": "user_id"
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "achievement_unlock"
                    ],
                    "title": "type"
                }
            },
            "additionalProperties": false,
            "required": [
                "description",
                "id",
                "image_url",
                "max_progress",
                "name",
                "type",
                "user_id",
                "user_index"
            ]
        },
        "ReportStats": {
            "title": "ReportStats",
            "type": "object",
            "properties": {
                "user_id": {
                    "$ref": "#/definitions/UserId",
                    "title": "user_id"
                },
                "rolls": {
                    "type": "integer",
                    "title": "rolls"
                },
                "wins": {
                    "type": "integer",
                    "title": "wins"
                },
                "games": {
                    "type": "integer",
                    "title": "games"
                },
                "doubles": {
                    "type": "integer",
                    "title": "doubles"
                }
            },
            "additionalProperties": false,
            "required": [
                "doubles",
                "games",
                "rolls",
                "user_id",
                "wins"
            ]
        },
        "ServerPlayer": {
            "title": "ServerPlayer",
            "type": "object",
            "properties": {
                "session": {
                    "type": "string",
                    "title": "session"
                },
                "turn_count": {
                    "type": "integer",
                    "title": "turn_count"
                },
                "roll_count": {
                    "type": "integer",
                    "title": "roll_count"
                },
                "doubles_count": {
                    "type": "integer",
                    "title": "doubles_count"
                },
                "connected": {
                    "type": "boolean",
                    "title": "connected"
                },
                "name": {
                    "type": "string",
                    "title": "name"
                },
                "score": {
                    "type": "integer",
                    "title": "score"
                },
                "win_count": {
                    "type": "integer",
                    "title": "win_count"
                },
                "user_id": {
                    "type": "string",
                    "title": "user_id"
                },
                "crowned": {
                    "type": "boolean",
                    "title": "crowned"
                },
                "skip_count": {
                    "type": "integer",
                    "title": "skip_count"
                }
            },
            "additionalProperties": false,
            "required": [
                "connected",
                "doubles_count",
                "roll_count",
                "score",
                "session",
                "skip_count",
                "turn_count",
                "win_count"
            ]
        },
        "UserStats": {
            "title": "UserStats",
            "type": "object",
            "properties": {
                "rolls": {
                    "type": "integer",
                    "title": "rolls"
                },
                "doubles": {
                    "type": "integer",
                    "title": "doubles"
                },
                "games": {
                    "type": "integer",
                    "title": "games"
                },
                "wins": {
                    "type": "integer",
                    "title": "wins"
                }
            },
            "additionalProperties": false,
            "required": [
                "doubles",
                "games",
                "rolls",
                "wins"
            ]
        },
        "Achievement": {
            "title": "Achievement",
            "type": "object",
            "properties": {
                "id": {
                    "type": "string",
                    "title": "id"
                },
                "progress": {
                    "type": "integer",
                    "title": "progress"
                },
                "unlocked": {
                    "type": "string",
                    "title": "unlocked"
                },
                "rn": {
                    "type": [
                        "null",
                        "number"
                    ],
                    "title": "rn"
                },
                "rd": {
                    "type": [
                        "null",
                        "number"
                    ],
                    "title": "rd"
                }
            },
            "additionalProperties": false,
            "required": [
                "id",
                "progress",
                "rd",
                "rn",
                "unlocked"
            ]
        },
        "AchievementData": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string",
                    "title": "description"
                },
                "image_url": {
                    "type": [
                        "null",
                        "string"
                    ],
                    "title": "image_url"
                },
                "id": {
                    "type": "string",
                    "title": "id"
                },
                "name": {
                    "type": "string",
                    "title": "name"
                },
                "max_progress": {
                    "type": "integer",
                    "title": "max_progress"
                }
            },
            "additionalProperties": false,
            "required": [
                "description",
                "id",
                "image_url",
                "max_progress",
                "name"
            ]
        },
        "DiceType": {
            "title": "DiceType",
            "enum": [
                0,
                1
            ],
            "type": "number"
        },
        "UserData": {
            "title": "UserData",
            "type": "object",
            "properties": {
                "id": {
                    "type": "string",
                    "title": "id"
                },
                "username": {
                    "type": "string",
                    "title": "username"
                },
                "image_url": {
                    "type": [
                        "null",
                        "string"
                    ],
                    "title": "image_url"
                },
                "stats": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/UserStats"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "title": "stats"
                },
                "dice": {
                    "type": "object",
                    "properties": {
                        "type": {
                            "$ref": "#/definitions/DiceType",
                            "title": "type"
                        }
                    },
                    "additionalProperties": false,
                    "required": [
                        "type"
                    ],
                    "title": "dice"
                },
                "color": {
                    "type": "object",
                    "properties": {
                        "hue": {
                            "type": "number",
                            "title": "hue"
                        },
                        "sat": {
                            "type": "number",
                            "title": "sat"
                        }
                    },
                    "additionalProperties": false,
                    "required": [
                        "hue",
                        "sat"
                    ],
                    "title": "color"
                },
                "pubkey_text": {
                    "type": [
                        "null",
                        "string"
                    ],
                    "title": "pubkey_text"
                },
                "achievements": {
                    "anyOf": [
                        {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/Achievement"
                            }
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "title": "achievements"
                },
                "createdDate": {
                    "type": "string",
                    "title": "createdDate"
                },
                "donor": {
                    "type": "boolean",
                    "title": "donor"
                }
            },
            "additionalProperties": false,
            "required": [
                "color",
                "createdDate",
                "dice",
                "donor",
                "id",
                "username"
            ]
        },
        "DieRoll": {
            "title": "DieRoll",
            "type": "object",
            "properties": {
                "used": {
                    "type": "boolean",
                    "title": "used"
                },
                "value": {
                    "type": "integer",
                    "title": "value"
                }
            },
            "additionalProperties": false,
            "required": [
                "used",
                "value"
            ]
        },
        "GameError": {
            "title": "GameError",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "error"
                    ],
                    "title": "type"
                },
                "error": {
                    "type": "string",
                    "title": "error"
                }
            },
            "additionalProperties": false,
            "required": [
                "error",
                "type"
            ]
        },
        "Redirect": {
            "title": "Redirect",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "redirect"
                    ],
                    "title": "type"
                },
                "room": {
                    "type": "string",
                    "title": "room"
                }
            },
            "additionalProperties": false,
            "required": [
                "room",
                "type"
            ]
        },
        "RefetchPlayer": {
            "title": "RefetchPlayer",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "refetch_player"
                    ],
                    "title": "type"
                },
                "user_id": {
                    "type": "string",
                    "title": "user_id"
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "user_id"
            ]
        },
        "Room": {
            "title": "Room",
            "type": "object",
            "properties": {
                "code": {
                    "type": "string",
                    "title": "code"
                },
                "host_name": {
                    "type": "string",
                    "title": "host_name"
                },
                "last_updated": {
                    "type": "string",
                    "title": "last_updated"
                },
                "player_count": {
                    "type": "integer",
                    "title": "player_count"
                }
            },
            "additionalProperties": false,
            "required": [
                "code",
                "host_name",
                "last_updated",
                "player_count"
            ]
        },
        "RoomList": {
            "title": "RoomList",
            "type": "object",
            "properties": {
                "rooms": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Room"
                    },
                    "title": "rooms"
                }
            },
            "additionalProperties": false,
            "required": [
                "rooms"
            ]
        },
        "IGameState": {
            "title": "IGameState",
            "type": "object",
            "properties": {
                "players": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Player"
                    },
                    "title": "players"
                },
                "chatLog": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "title": "chatLog"
                },
                "turn_index": {
                    "type": "integer",
                    "title": "turn_index"
                },
                "rolls": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "title": "rolls"
                },
                "used": {
                    "type": "array",
                    "items": {
                        "type": "boolean"
                    },
                    "title": "used"
                },
                "rolled": {
                    "type": "boolean",
                    "title": "rolled"
                },
                "victory": {
                    "type": "boolean",
                    "title": "victory"
                },
                "privateSession": {
                    "type": "boolean",
                    "title": "privateSession"
                },
                "spectators": {
                    "type": "integer",
                    "title": "spectators"
                }
            },
            "additionalProperties": false,
            "required": [
                "chatLog",
                "players",
                "privateSession",
                "rolled",
                "rolls",
                "spectators",
                "turn_index",
                "used",
                "victory"
            ]
        },
        "GameState": {
            "title": "GameState",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "game_state"
                    ],
                    "title": "type"
                },
                "players": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ServerPlayer"
                    },
                    "title": "players"
                },
                "chatLog": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "title": "chatLog"
                },
                "turn_index": {
                    "type": "integer",
                    "title": "turn_index"
                },
                "rolls": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "title": "rolls"
                },
                "used": {
                    "type": "array",
                    "items": {
                        "type": "boolean"
                    },
                    "title": "used"
                },
                "rolled": {
                    "type": "boolean",
                    "title": "rolled"
                },
                "victory": {
                    "type": "boolean",
                    "title": "victory"
                },
                "privateSession": {
                    "type": "boolean",
                    "title": "privateSession"
                },
                "spectators": {
                    "type": "integer",
                    "title": "spectators"
                }
            },
            "additionalProperties": false,
            "required": [
                "chatLog",
                "players",
                "privateSession",
                "rolled",
                "rolls",
                "spectators",
                "turn_index",
                "type",
                "used",
                "victory"
            ]
        },
        "WelcomeMsg": {
            "title": "WelcomeMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "welcome"
                    ],
                    "title": "type"
                },
                "id": {
                    "type": "integer",
                    "title": "id"
                },
                "players": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Player"
                    },
                    "title": "players"
                },
                "chatLog": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "title": "chatLog"
                },
                "turn_index": {
                    "type": "integer",
                    "title": "turn_index"
                },
                "rolls": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "title": "rolls"
                },
                "used": {
                    "type": "array",
                    "items": {
                        "type": "boolean"
                    },
                    "title": "used"
                },
                "rolled": {
                    "type": "boolean",
                    "title": "rolled"
                },
                "victory": {
                    "type": "boolean",
                    "title": "victory"
                },
                "privateSession": {
                    "type": "boolean",
                    "title": "privateSession"
                },
                "spectators": {
                    "type": "integer",
                    "title": "spectators"
                }
            },
            "additionalProperties": false,
            "required": [
                "chatLog",
                "id",
                "players",
                "privateSession",
                "rolled",
                "rolls",
                "spectators",
                "turn_index",
                "type",
                "used",
                "victory"
            ]
        },
        "RestartMsg": {
            "title": "RestartMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "restart"
                    ],
                    "title": "type"
                },
                "id": {
                    "type": "integer",
                    "title": "id"
                }
            },
            "additionalProperties": false,
            "required": [
                "id",
                "type"
            ]
        },
        "SpectatorsMsg": {
            "title": "SpectatorsMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "spectators"
                    ],
                    "title": "type"
                },
                "count": {
                    "type": "integer",
                    "title": "count"
                }
            },
            "additionalProperties": false,
            "required": [
                "count",
                "type"
            ]
        },
        "WinMsg": {
            "title": "WinMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "win"
                    ],
                    "title": "type"
                },
                "id": {
                    "type": "integer",
                    "title": "id"
                }
            },
            "additionalProperties": false,
            "required": [
                "id",
                "type"
            ]
        },
        "RollMsg": {
            "title": "RollMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "roll"
                    ],
                    "title": "type"
                },
                "rolls": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "title": "rolls"
                }
            },
            "additionalProperties": false,
            "required": [
                "rolls",
                "type"
            ]
        },
        "RollAgainMsg": {
            "title": "RollAgainMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "roll_again"
                    ],
                    "title": "type"
                }
            },
            "additionalProperties": false,
            "required": [
                "type"
            ]
        },
        "JoinMsg": {
            "title": "JoinMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "join"
                    ],
                    "title": "type"
                },
                "id": {
                    "type": "integer",
                    "title": "id"
                },
                "name": {
                    "type": "string",
                    "title": "name"
                },
                "user_id": {
                    "type": "string",
                    "title": "user_id"
                }
            },
            "additionalProperties": false,
            "required": [
                "id",
                "type"
            ]
        },
        "DisconnectMsg": {
            "title": "DisconnectMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "disconnect"
                    ],
                    "title": "type"
                },
                "id": {
                    "type": "integer",
                    "title": "id"
                }
            },
            "additionalProperties": false,
            "required": [
                "id",
                "type"
            ]
        },
        "ReconnectMsg": {
            "title": "ReconnectMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "reconnect"
                    ],
                    "title": "type"
                },
                "id": {
                    "type": "integer",
                    "title": "id"
                },
                "name": {
                    "type": "string",
                    "title": "name"
                },
                "user_id": {
                    "type": "string",
                    "title": "user_id"
                }
            },
            "additionalProperties": false,
            "required": [
                "id",
                "type"
            ]
        },
        "KickMsg": {
            "title": "KickMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "kick"
                    ],
                    "title": "type"
                },
                "id": {
                    "type": "integer",
                    "title": "id"
                }
            },
            "additionalProperties": false,
            "required": [
                "id",
                "type"
            ]
        },
        "ChatMsg": {
            "title": "ChatMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "chat"
                    ],
                    "title": "type"
                },
                "msg": {
                    "type": "string",
                    "title": "msg"
                }
            },
            "additionalProperties": false,
            "required": [
                "msg",
                "type"
            ]
        },
        "UpdateTurnMsg": {
            "title": "UpdateTurnMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "update_turn"
                    ],
                    "title": "type"
                },
                "id": {
                    "type": "integer",
                    "title": "id"
                },
                "skip": {
                    "type": "boolean",
                    "title": "skip"
                }
            },
            "additionalProperties": false,
            "required": [
                "id",
                "type"
            ]
        },
        "UpdateNameMsg": {
            "title": "UpdateNameMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "update_name"
                    ],
                    "title": "type"
                },
                "name": {
                    "type": "string",
                    "title": "name"
                },
                "id": {
                    "type": "integer",
                    "title": "id"
                }
            },
            "additionalProperties": false,
            "required": [
                "id",
                "name",
                "type"
            ]
        },
        "UpdateMsg": {
            "title": "UpdateMsg",
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "update"
                    ],
                    "title": "type"
                },
                "id": {
                    "type": "integer",
                    "title": "id"
                },
                "score": {
                    "type": "integer",
                    "title": "score"
                },
                "used": {
                    "type": "array",
                    "items": {
                        "type": "boolean"
                    },
                    "title": "used"
                },
                "reset": {
                    "type": "boolean",
                    "title": "reset"
                }
            },
            "additionalProperties": false,
            "required": [
                "id",
                "score",
                "type"
            ]
        }
    }
}
